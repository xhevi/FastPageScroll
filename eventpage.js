function install_notice(){if(localStorage.getItem("version")==.4)return;localStorage.setItem("version",.4);chrome.tabs.create({url:"popup.html"});prepare_settings()}function prepare_settings(){exceptions[0]="basecamp.com";exceptions[1]="fastpagescroll.com";localStorage["fast_scroll_exceptions"]=JSON.stringify(exceptions);stats[0]=0;stats[1]=0;localStorage["fast_scroll_stats"]=JSON.stringify(stats)}var exceptions=[];var stats=[];install_notice();chrome.runtime.onMessage.addListener(function(e,t,n){if(e.name=="getPreferences")n({settings:localStorage.getItem("fast_scroll_exceptions")})});chrome.runtime.onMessage.addListener(function(e,t,n){if(e.distance){stats=JSON.parse(localStorage["fast_scroll_stats"]);stats[0]++;stats[1]+=e.distance;localStorage["fast_scroll_stats"]=JSON.stringify(stats);n("Update stats OK")}})