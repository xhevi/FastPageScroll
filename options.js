function init(){exceptions=JSON.parse(localStorage["fast_scroll_exceptions"]);for(var e=exceptions.length;e-->0;){$("#exceptions tbody tr:last").after("<tr><td>"+exceptions[e]+'</td><td><a href="#" class="remove_exception">Remove<a></td></tr>')}stats=JSON.parse(localStorage["fast_scroll_stats"]);$("#stats tbody").after('<tr><td><div class="label">Was used<div><div class="value">'+stats[0].formatNumber(0)+'</div> <div class="unit">times</div></td><tr>');var t=stats[1]/37.8;var n="cm";if(t>=1e5){n="kilometeres";t/=1e5}else if(t>=100){n="meters";t/=100}var r=stats[1]/96;var i="inches";if(r>=63360){i="miles";r/=63360}else if(r>=36){i="yards";r/=36}$("#stats tr:last").after('<tr><td><div class="label">Auto-scrolled</div><div id="value-px">'+stats[1].formatNumber(0)+'</div> <div class="unit">pixels</div></td><tr>');$("#stats tr:last").after('<tr><td id="td-distance"><div id="label-distance">That is</div><div class="value">'+t.formatNumber(1)+'</div> <div class="unit">'+n+'</div><div class="value-imp">('+r.formatNumber(1)+' <span class="unit-imp">'+i+"</span>)</div></td><tr>");var s=stats[1]/1981;var o="seconds";if(s>=3600){o="hours";s/=3600}else if(s>=60){o="minutes";s/=60}$("#stats tr:last").after('<tr><td><div class="label">You\'ve saved</div><div class="value">'+s.formatNumber(1)+'</div> <div class="unit">'+o+" of your time *</div></td><tr>");return}function add_item(){var e=$("#exception_val").val();if(e.match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)){if(exceptions.indexOf(e)!==-1){alert(e+" is already in your list of exceptions.");return}exceptions.push(e);localStorage["fast_scroll_exceptions"]=JSON.stringify(exceptions);$("#exception_val").val("");$("#exceptions tbody tr:eq(0)").after("<tr><td>"+e+'</td><td><a href="#" class="remove_exception">Remove<a></td></tr>');return}alert("Please enter a domain in the format 'www.facebook.com', or 'facebook.com'")}function remove_item(){var e=$(this).closest("tr").find("td:first").html();var t=exceptions.indexOf(e);if(t!==-1){exceptions.splice(t,1)}localStorage["fast_scroll_exceptions"]=JSON.stringify(exceptions);$(this).closest("tr").remove();return}var exceptions=[];var stats=[];Number.prototype.formatNumber=function(e,t,n){var r=this,e=isNaN(e=Math.abs(e))?2:e,t=t==undefined?",":t,n=n==undefined?".":n,i=r<0?"-":"",s=parseInt(r=Math.abs(+r||0).toFixed(e))+"",o=(o=s.length)>3?o%3:0;return i+(o?s.substr(0,o)+n:"")+s.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+n)+(e?t+Math.abs(r-s).toFixed(e).slice(2):"")};init();$(document.body).on("click",".remove_exception",remove_item);document.querySelector("#add_exception").addEventListener("click",add_item);document.querySelector("#exception_val").addEventListener("keypress",function(e){var t=e.which||e.keyCode;if(t==13){add_item()}})